import{_ as m,e as P,r as B,o as n,c as l,a as c,d as t,F as d,f as E,t as g,b,w as V}from"./index-2e3cb665.js";const{VITE_APP_URL:u,VITE_APP_PATH:i}={VITE_APP_URL:"https://vue3-course-api.hexschool.io/v2/",VITE_APP_PATH:"202301-vue-shaoyu",BASE_URL:"/VueLiveClass-2022WinterClass_Hexschool/%E4%B8%BB%E7%B7%9A%E4%BB%BB%E5%8B%99/week6/dist/",MODE:"production",DEV:!1,PROD:!0},$={data(){return{products:[]}},components:{RouterLink:P},methods:{getProducts(){const o=`${u}api/${i}/products/all`;this.$http.get(o).then(e=>{console.log(e),this.products=e.data.products}).catch(e=>{alert(e.response.data.message)})},addToCart(o){const e={product_id:o,qty:1},r=`${u}api/${i}/cart`;this.$http.post(r,{data:e}).then(a=>{console.log(a)}).catch(a=>{alert(a.response.data.message)})}},mounted(){this.getProducts()}},f={class:"table"},k=t("thead",null,[t("tr",null,[t("th",null,"商品名稱"),t("th",null,"圖片"),t("th")])],-1),T=["src"],y=["onClick"];function A(o,e,r,a,_,h){const p=B("RouterLink");return n(),l(d,null,[c(" 這是產品列表頁面 "),t("table",f,[k,t("tbody",null,[(n(!0),l(d,null,E(_.products,s=>(n(),l("tr",{key:s.id},[t("td",null,g(s.title),1),t("td",null,[t("img",{src:s.imageUrl,width:"200",alt:"",srcset:""},null,8,T)]),t("td",null,[b(p,{to:`/product/${s.id}`,class:"btn btn-outline-secondary"},{default:V(()=>[c("產品細節")]),_:2},1032,["to"]),t("button",{type:"button",class:"btn btn-outline-primary",onClick:C=>h.addToCart(s.id)},"加入購物車",8,y)])]))),128))])])],64)}const x=m($,[["render",A]]);export{x as default};
